<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="assets/style.css">
    <link rel="icon" type="image/x-icon" href="assets/images/logo.jpg">
    <style>
        .search-results {
            display: none;
        }

        .suggestion-item {
            cursor: pointer;
        }

        .suggestion-item:hover {
            background-color: #f0f0f0;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <section class="header_menu" id="header_menu">
        <div class="container-fluid px-0 shadow">
            <nav class="navbar navbar-expand-lg navbar-light bg-light py-3">
                <a class="navbar-brand pl-5 pl-small-0" href="index.html">
                    <img src="assets/images/logo.jpg" class="img img-fluid" width="120px" alt="logo">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="product.html">Product</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="category.html">Category</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">Contact Us</a>
                        </li>
                    </ul>
                    <div class="search mr-3">
                        <form class="form-inline my-2 my-lg-0" id="search-form">
                            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search"
                                id="search-input">
                            <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
                        </form>
                        <ul id="suggestions" class="list-unstyled position-absolute bg-white border"></ul>
                    </div>
                    <div class="cart">
                        <a href="cart.html">
                            <i class="fas fa-shopping-cart fa-2x"></i>
                            <span class="badge badge-pill badge-primary" id="cart-count">0</span>
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </section>

    <!-- Search Results -->
    <section class="search-results py-5 my-5" id="search-results">
        <div class="container">
            <div class="section_title text-center mb-5">
                <h1 class="text-capitalize">Search Results</h1>
            </div>
            <div class="row" id="product-list">
                <!-- Products will be dynamically inserted here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer mt-5 py-4 bg-light">
        <div class="container">
            <div class="row">
                <!-- Company Info -->
                <div class="col-md-4">
                    <div class="footer-logo">
                        <img src="assets/images/logo.jpg" alt="Company Logo" class="img-fluid mb-3" width="150">
                    </div>
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Impedit, totam est illum ipsum quas ad
                        dignissimos magni veritatis natus voluptatem.</p>
                </div>
                <!-- Quick Links -->
                <div class="col-md-2">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="about.html">About</a></li>
                        <li><a href="offers.html">Offers & Discounts</a></li>
                        <li><a href="coupon.html">Get Coupon</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
                <!-- New Products -->
                <div class="col-md-3">
                    <h5>New Products</h5>
                    <ul class="list-unstyled">
                        <li><a href="#">Woman Cloth</a></li>
                        <li><a href="#">Fashion Accessories</a></li>
                        <li><a href="#">Man Accessories</a></li>
                        <li><a href="#">Rubber made Toys</a></li>
                    </ul>
                </div>
                <!-- Support -->
                <div class="col-md-3">
                    <h5>Support</h5>
                    <ul class="list-unstyled">
                        <li><a href="faq.html">Frequently Asked Questions</a></li>
                        <li><a href="terms.html">Terms & Conditions</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="report.html">Report a Payment Issue</a></li>
                    </ul>
                </div>
            </div>
            <!-- Social Media -->
            <div class="row mt-3">
                <div class="col text-center">
                    <a href="#" class="text-dark mx-2"><i class="fab fa-facebook fa-2x"></i></a>
                    <a href="#" class="text-dark mx-2"><i class="fab fa-twitter fa-2x"></i></a>
                    <a href="#" class="text-dark mx-2"><i class="fab fa-instagram fa-2x"></i></a>
                    <a href="#" class="text-dark mx-2"><i class="fab fa-linkedin fa-2x"></i></a>
                </div>
            </div>
        </div>
    </footer>
    <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
    <script src="assets/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            const products = [
                { id: 1, name: "Green Hoodie with details", price: 299, category: "Fashion", rating: 3, image: "assets/images/green-dress.jpeg" },
                { id: 2, name: "Black Kurti with details", price: 899, category: "Fashion", rating: 4, image: "assets/images/w-dress.jpeg" },
                { id: 3, name: "Blue Jacket with details", price: 599, category: "Fashion", rating: 3, image: "assets/images/jacket.jpeg" },
                { id: 4, name: "Blue Hoodie with details", price: 299, category: "Fashion", rating: 3, image: "assets/images/blue-dress.jpeg" },
                { id: 5, name: "Girl Outfit with details", price: 799, category: "Fashion", rating: 4, image: "assets/images/girl-dress.jpeg" },
                { id: 6, name: "Hoodie with details", price: 299, category: "Fashion", rating: 3, image: "assets/images/sweater.jpeg" },
                { id: 7, name: "iPhone with details", price: 119999, category: "Electronics", rating: 4, image: "assets/images/iphone.jpeg" },
                { id: 8, name: "Vivo with details", price: 19999, category: "Electronics", rating: 4, image: "assets/images/vivo.jpeg" },
                { id: 9, name: "Laptop with details", price: 1999, category: "Electronics", rating: 4, image: "assets/images/laptop.jpeg" },
                { id: 10, name: "Camera with details", price: 1999, category: "Electronics", rating: 4, image: "assets/images/camera.jpeg" },
                { id: 11, name: "Beauty product with details", price: 1999, category: "Beauty Products", rating: 4, image: "assets/images/beauty1.jpeg" },
                { id: 12, name: "Beauty product with details", price: 1999, category: "Beauty Products", rating: 4, image: "assets/images/beauty2.jpeg" },
            ];

            function renderProducts(searchTerm) {
                const filteredProducts = products.filter(product => fuzzyMatch(product.name, searchTerm));
                const productHTML = filteredProducts.map(product => `
                    <div class="col-md-3 mb-4">
                        <div class="card">
                            <img src="${product.image}" class="card-img-top" alt="${product.name}">
                            <div class="card-body">
                                <h5 class="card-title">${product.name}</h5>
                                <p class="card-text">Price: $${product.price}</p>
                                <p class="card-text">Category: ${product.category}</p>
                                <p class="card-text">Rating: ${'★'.repeat(product.rating)}${'☆'.repeat(5 - product.rating)}</p>
                                <a href="product.html?id=${product.id}" class="btn btn-primary">View Product</a>
                            </div>
                        </div>
                    </div>
                `).join('');
                $('#product-list').html(productHTML);
                $('#search-results').show();
            }

            function fuzzyMatch(productName, searchTerm) {
                // Convert both to lowercase and check if the search term is included in the product name
                return productName.toLowerCase().includes(searchTerm.toLowerCase());
            }

            function renderSuggestions(searchTerm) {
                const suggestions = products
                    .filter(product => fuzzyMatch(product.name, searchTerm))
                    .map(product => `<li class="suggestion-item list-group-item">${product.name}</li>`)
                    .join('');
                $('#suggestions').html(suggestions);
                $('#suggestions').toggle(suggestions.length > 0);
            }

            $('#search-input').on('input', function () {
                const searchTerm = $(this).val();
                renderSuggestions(searchTerm);
            });

            $('#search-form').on('submit', function (e) {
                e.preventDefault();
                const searchTerm = $('#search-input').val();
                renderProducts(searchTerm);
            });

            $('#suggestions').on('click', '.suggestion-item', function () {
                const selectedSuggestion = $(this).text();
                $('#search-input').val(selectedSuggestion);
                renderProducts(selectedSuggestion);
                $('#suggestions').hide();
            });

            $(document).click(function (e) {
                if (!$(e.target).closest('#search-input').length && !$(e.target).closest('#suggestions').length) {
                    $('#suggestions').hide();
                }
            });

            // Initial render of all products
            renderProducts('');
        });
    </script>
</body>

</html>